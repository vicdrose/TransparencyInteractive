<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual:  Windows Runtime support</title>
<meta name="description" content="The Unity Manual helps you learn and use the Unity engine. With the Unity engine you can create 2D and 3D games, apps and experiences.">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="../StaticFilesManual/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-2854981-1']);
  _gaq.push(['_setDomainName', 'unity3d.com']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script><script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=1492779482"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=1492779482"></script><script type="text/javascript" src="docdata/toc.js?ts=1492779482"></script><script type="text/javascript" src="docdata/global_toc.js?ts=1492779482"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=1492779482">
</head>
<body>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div class="logo"><a href="http://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="http://unity3d.com/">unity3d.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-number">Version: <b>5.6</b> (<a href="https://docs.unity3d.com/2017.1/Documentation/Manual">switch to 2017.1b</a>)</div>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">Language: <span class="b">English</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/IL2CPP-WindowsRuntimeSupport.html">English</a></li>
<li><a href="/ja/current/Manual/IL2CPP-WindowsRuntimeSupport.html">日本語</a></li>
<li><a href="/es/current/Manual/IL2CPP-WindowsRuntimeSupport.html">Español</a></li>
<li><a href="/kr/current/Manual/IL2CPP-WindowsRuntimeSupport.html">한국어</a></li>
<li><a href="/ru/current/Manual/IL2CPP-WindowsRuntimeSupport.html">Русский</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc"><h2>Unity Manual</h2></div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual (5.6)</a></li>
<li><a href="ScriptingSection.html">Scripting</a></li>
<li><a href="ScriptingTools.html">Scripting Tools</a></li>
<li><a href="IL2CPP.html">IL2CPP</a></li>
<li> Windows Runtime support</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="IL2CPP-CompilerOptions.html"></a></span><div class="tip">Compiler options</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="IL2CPP-HowItWorks.html"></a></span><div class="tip"> How IL2CPP works</div>
</div>
</div></div>
<h1>Windows Runtime support</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>Unity includes Windows Runtime support for <a href="IL2CPP.html">IL2CPP</a> on Windows Store and Xbox One platforms. Use Windows Runtime support to call into both native system Windows Runtime APIs as well as custom .winmd files directly from managed code (scripts and DLLs).</p>

<p>To automatically enable Windows Runtime support in IL2CPP, go to PlayerSettings (<strong>Edit</strong> &gt; <strong>Project Settings</strong> &gt; <strong>Player</strong>), navigate to the <strong>Configuration</strong> section, and set the <strong>Api Compatibility Level</strong> to <strong>.NET 4.6</strong>.</p>

<figure>
<img src="../uploads/Main/IL2CPP-4.png" alt="The Configuration section of the PlayerSettings window. The options shown above change depending on your chosen build platform.">
<figcaption>The <strong>Configuration</strong> section of the PlayerSettings window. The options shown above change depending on your chosen build platform.</figcaption>
</figure>

<p>Unity automatically references Windows Runtime APIs (such as <em>Windows.winmd</em> on Windows Store) when it has Windows Runtime support enabled. To use custom .winmd files, import them (together with any accompanying DLLs) into your Unity project folder. Then use the <a href="PluginInspector.html">Plugin Inspector</a> to configure the files for your target platform.</p>

<figure>
<img src="../uploads/Main/IL2CPP-5.png" alt="Use the Plugin Inspector to configure custom .winmd files for specific platforms ">
<figcaption>Use the Plugin Inspector to configure custom .winmd files for specific platforms
</figcaption>
</figure>

<p>In your Unity project’s <a href="ScriptingSection.html">scripts</a> you can use the <code>ENABLE_WINMD_SUPPORT</code> #define directive to check that your project has Windows Runtime support enabled. Use this before a call to .winmd Windows APIs or custom .winmd scripts to ensure they can run and to ensure any scripts not relevant to Windows ignore them. See the examples below. </p>

<p><strong>Examples</strong></p>

<p><strong><code>C#</code></strong></p>

<pre><code>void Start() {
  #if ENABLE_WINMD_SUPPORT
    Debug.Log(&quot;Windows Runtime Support enabled&quot;);
    // Put calls to your custom .winmd API here
  #endif
}
</code></pre>

<p><strong><code>JS</code></strong></p>

<pre><code>function Awake() {
  #if ENABLE_WINMD_SUPPORT
    Debug.Log(&quot;Windows Runtime Support enabled&quot;);
    // Put calls to your custom .winmd API here
  #endif
}
</code></pre>

<p>In addition to being defined when Windows Runtime support is enabled in IL2CPP, it is also defined in .NET when you set <strong>Compilation Overrides</strong> to <strong>Use Net Core</strong>.</p>

<figure>
<img src="../uploads/Main/IL2CPP-6.png" alt="The Publishing Settings section of the PlayerSettings Inspector window, with Compilation Overrides highlighted in red">
<figcaption>The Publishing Settings section of the PlayerSettings Inspector window, with <strong>Compilation Overrides</strong> highlighted in red</figcaption>
</figure>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="IL2CPP-CompilerOptions.html"></a></span><div class="tip">Compiler options</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="IL2CPP-HowItWorks.html"></a></span><div class="tip"> How IL2CPP works</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">
<known_issues><p>Is something described here not working as you expect it to? It might be a <b>Known Issue</b>. Please check with the Issue Tracker at <a href="http://issuetracker.unity3d.com">issuetracker.unity3d.com</a>.</p></known_issues>Copyright © 2017 Unity Technologies. Publication: 5.6-001I. Built: 2017-04-21.</div>
<div class="menu">
<a href="http://unity3d.com/learn">Tutorials</a><a href="http://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="http://forum.unity3d.com">Forums</a><a href="http://unity3d.com/asset-store">Asset Store</a>
</div>
</div></div>
</div></div></div>
</div>
<noscript><iframe src="http://www.googletagmanager.com/ns.html?id=GTM-MC35ML" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'http://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MC35ML');</script>
</body>
</html>
