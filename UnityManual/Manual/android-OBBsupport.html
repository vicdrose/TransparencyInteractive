<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual:  Support for APK expansion files (OBB)</title>
<meta name="description" content="The Unity Manual helps you learn and use the Unity engine. With the Unity engine you can create 2D and 3D games, apps and experiences.">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="../StaticFilesManual/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-2854981-1']);
  _gaq.push(['_setDomainName', 'unity3d.com']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script><script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=1492779482"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=1492779482"></script><script type="text/javascript" src="docdata/toc.js?ts=1492779482"></script><script type="text/javascript" src="docdata/global_toc.js?ts=1492779482"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,400italic" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=1492779482">
</head>
<body>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div class="logo"><a href="http://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="http://unity3d.com/">unity3d.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-number">Version: <b>5.6</b> (<a href="https://docs.unity3d.com/2017.1/Documentation/Manual">switch to 2017.1b</a>)</div>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">Language: <span class="b">English</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/android-OBBsupport.html">English</a></li>
<li><a href="/ja/current/Manual/android-OBBsupport.html">日本語</a></li>
<li><a href="/es/current/Manual/android-OBBsupport.html">Español</a></li>
<li><a href="/kr/current/Manual/android-OBBsupport.html">한국어</a></li>
<li><a href="/ru/current/Manual/android-OBBsupport.html">Русский</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc"><h2>Unity Manual</h2></div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual (5.6)</a></li>
<li><a href="PlatformSpecific.html">Platform-specific</a></li>
<li><a href="android.html">Android</a></li>
<li><a href="android-GettingStarted.html"> Getting started with Android development</a></li>
<li> Support for APK expansion files (OBB)</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="android-bugreporting.html"></a></span><div class="tip"> Reporting crash bugs under Android</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="android-API.html"></a></span><div class="tip">Android Scripting</div>
</div>
</div></div>
<h1>Support for APK expansion files (OBB)</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>APK expansion files are used as a solution for the 100MB app size limit in the Google Play Store. If your app is larger than 100MB (which is quite likely for a big game), you have to split your output package into the main part (APK) and the expansion file (OBB). Refer to the Android Developer documentation on <a href="https://developer.android.com/google/play/expansion-files.html">expansion files</a> for more information.</p>

<p>Unity automatically splits the output package into APK and OBB. This is not the only way to split the app package (other options include third-party plug-ins and <a href="https://docs.unity3d.com/Manual/AssetBundlesIntro.html">AssetBundles</a>), but it is the only automatic splitting mechanism officially supported by Unity.</p>

<h2>Building the app with expansion files</h2>

<p>If you want Unity to split the app output package into APK and OBB for you, open the <strong>Player Settings</strong> window (menu: <strong>Edit</strong> &gt; <strong>Project Settings</strong> &gt; <strong>Player</strong>), and in the <strong>Publishing Settings</strong> section, tick the <strong>Split Application Binary</strong> checkbox.</p>

<figure>
<img src="../uploads/Main/android-OBB-0.png" alt="The Publishing Settings section of the Player Settings window, with the Split Application Binary checkbox highlighted">
<figcaption>The <strong>Publishing Settings</strong> section of the <strong>Player Settings</strong> window, with the <strong>Split Application Binary</strong> checkbox highlighted</figcaption>
</figure>

<p>Both parts of the output package (APK and OBB) are copied to the output directory you specify when building the app. For example, if the APK has the name <em>mygame.apk</em>, the OBB is in the same directory under the name <em>mygame.main.obb</em>.</p>

<p>If you select <strong>Build and Run</strong>, the APK and OBB files are installed on your device by Unity. If you select <strong>Build </strong>and want to install the app manually using the ADB utility, you must first install the APK and then copy the OBB into the correct location on your device. The OBB file name must correspond the format required by Google. Refer to the <a href="https://developer.android.com/google/play/expansion-files.html">expansion files</a> section of the Android Developer documentation for more information. </p>

<p>If the app starts and can’t find and load the OBB, only the first Scene is available (see documentation on how data is split between the APK and OBB below for more information). Do not use the contents of the OBB separately - always treat the APK and OBB as a unique bundle, the same way as you would treat a single APK.</p>

<h2>How data is split between the APK and OBB</h2>

<p>When the <strong>Split Application Binary</strong> option is enabled, the app is split the following way:</p>

<ul>
<li><p>
<strong>APK</strong> - Consists of the executables (Java and native), plug-ins, scripts, and the data for the first Scene (with the index 0).</p></li>
<li><p>
<strong>OBB</strong> - Contains everything else, including all of the remaining Scenes, resources, and streaming Assets.</p></li>
</ul>

<p>If your APK is still too large for publishing in the Google Play Store (more than 100MB), try reducing the size of your first Scene, making it as small as possible.</p>

<h2>Downloading the OBB expansion file</h2>

<p>
<a href="https://www.assetstore.unity3d.com/en/#!/content/3189">The Unity Asset Store offers a plug-in</a> that allows you to access an adapted version of the Google Play <code>market_downloader</code> library for Unity, which you can use to download the OBB from Google Play Store, or an external source, and move it into the correct directory.</p>

<h2>Hosting OBB files on the Google Play Store</h2>

<p>OBB expansion files should be published to the Google Play Store along with your APK. Any OBB files published with your APK will be automatically downloaded when a user installs your app from the Google Play Store. </p>

<p>You should include code in your app that downloads missing OBB files in the case of a Google Play Store error, or if a user removes the OBB files from their device. For more information about downloading OBB files, refer to the <a href="https://developer.android.com/google/play/expansion-files.html#DownloadProcess">APK Expansion file</a> section of the Android Developer documentation.</p>

<h2>Hosting OBB files without using the Google Play Store</h2>

<p>You can also host OBB files yourself if you do not want to use the Google Play Store. However, hosting OBB files without using the Google Play Store is only recommended for advanced users.</p>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="android-bugreporting.html"></a></span><div class="tip"> Reporting crash bugs under Android</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="android-API.html"></a></span><div class="tip">Android Scripting</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">
<known_issues><p>Is something described here not working as you expect it to? It might be a <b>Known Issue</b>. Please check with the Issue Tracker at <a href="http://issuetracker.unity3d.com">issuetracker.unity3d.com</a>.</p></known_issues>Copyright © 2017 Unity Technologies. Publication: 5.6-001I. Built: 2017-04-21.</div>
<div class="menu">
<a href="http://unity3d.com/learn">Tutorials</a><a href="http://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="http://forum.unity3d.com">Forums</a><a href="http://unity3d.com/asset-store">Asset Store</a>
</div>
</div></div>
</div></div></div>
</div>
<noscript><iframe src="http://www.googletagmanager.com/ns.html?id=GTM-MC35ML" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'http://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MC35ML');</script>
</body>
</html>
